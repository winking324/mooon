1. 什么是mooon logger？
logger是mooon中sys库下的一个轻量的写本地日志工具，具备使用简单、结构简单、实现高效和线程安全（非多进程安全）等特点，主要功能如下：

1) 支持文本和二进制日志；

2) 支持最大64K的一条日志（预先分配大小为512字节，这个值可设置）；

3) 支持debug、info、error、warn和fatal多种日志级别；

4) 支持独立的trace日志，方便程序调试，独立的开关控制跟踪日志，允许关闭其它级别的日志，只输出跟踪日志；

5) 日志级别可动态调整；

6) 支持同时将日志打印到标准输出；

7) 可控制是否自动追加换行符；

8) 支持滚动日志，允许设置备份个数和单个日志文件大小。


5. 工作原理
Logger创建一个独立的线程，专门用来将队列中的日志写入磁盘。而日志线程可以配置多个队列，每个调用者线程的日志可以配置总是只存储到同一个队列，也可以不分队列存储，不分队列存放效率是最高的，但同一个线程输出的日志将是无时间顺序（秒级顺序错乱）的。

引入多队列，可以降低调用者线程和日志线程之间的碰撞，从而保证高效。

日志并不一定是按一条条写入磁盘的，日志线程总是一次性的借助writev系统调用将一个队列中当前所有的日志一次性写入磁盘，这样就减少了I/O次数。

但同时，Logger仍旧保持了日志写入磁盘的及时性，在调用者线程和日志线程间设置了通知事件，如果所有队列均为空，则日志线程进入睡觉等待状态，任意调用线程将日志存入日志队列后，调用线程会检查日志线程是否处于睡觉等待状态，如果是则唤醒它，否则只是将日志放入队列。


9.编译方法

9.1首先从 SVN (https://mooon.googlecode.com/svn/trunk/foundation_library) 上将代码 checkout 出来

9.2然后将include和src两个目录上到Linux机器上的同一个目录下，如foundation\_library目录下

9.3进入src目录

9.4执行first\_once.sh，如：sh first\_once.sh

9.5接下来，就是普通的automake操作了，分别为：


9.6./configure --prefix=指定安装目录

9.7make

。。。。。。



更多，请浏览：http://bbs.hadoopor.com/thread-1819-1-1.html